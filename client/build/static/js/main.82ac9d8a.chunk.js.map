{"version":3,"sources":["pages/Home.jsx","App.jsx","redux/reducers/index.js","index.jsx"],"names":["Home","props","state","cyclePickleRick","pitch","cycle","handleClick","bind","playMidi","keyDown","event","defaultKeys","rick","note","midi","pickle","sound","this","console","log","cycleSound","key","playNote","x","json","midiNumber","tracks","notes","forEach","element","setTimeout","shiftPitch","duration","send","time","file","context","AudioContext","request","XMLHttpRequest","onDecoded","buffer","bufferSource","createBufferSource","gainNode","createGain","shifter","PitchShifter","on","detail","percentagePlayed","disconnect","connect","destination","open","responseType","onload","decodeAudioData","response","document","addEventListener","keyUp","removeEventListener","require","experimental","setState","allNotes","track","includes","name","push","replace","soundPlayer","Audio","src","mozPreservesPitch","playbackRate","play","length","onClick","Component","App","exact","path","component","combineReducers","ReactDOM","render","store","createStore","reducers","querySelector"],"mappings":"y2prBAkQeA,E,kDAzPX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IALVC,MAAQ,CAAEC,gBAAiB,CAAC,UAAWC,MAAO,EAAGC,MAAO,GAQpD,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBAChB,EAAKE,QAAU,EAAKA,QAAQF,KAAb,gBANA,E,oDAYXG,GACJ,IAAIC,EAAc,CAACC,KAAM,CAACC,KAAM,KAAMC,KAAM,IAAMC,OAAQ,CAACF,KAAM,UAAWC,KAAM,KAE9EE,EAAQC,KAAKf,MAAMC,gBAAgBc,KAAKf,MAAMG,OAAS,IAAMM,EAAYM,KAAKf,MAAMC,gBAAgBc,KAAKf,MAAMG,QAAQQ,KAAO,OAElIK,QAAQC,IAAIH,GAEDL,EAAYM,KAAKf,MAAMC,gBAAgBc,KAAKf,MAAMG,QAAQS,KAErEG,KAAKG,aACQH,KAAKf,MAAME,MAExB,GAAkB,MAAdM,EAAMW,IACNJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IAEXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAE9B,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,SAAWL,KAAKf,MAAME,YAGnC,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,SAAWL,KAAKf,MAAME,YAGnC,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,IAAML,KAAKf,MAAME,YAG9B,GAAkB,MAAdM,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,IAAMC,QAGnB,GAAkB,MAAdb,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,IAAMC,QAGnB,GAAkB,MAAdb,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,IAAMC,QAGnB,GAAkB,MAAdb,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,IAAMC,QAGnB,GAAkB,MAAdb,EAAMW,IACXJ,KAAKK,SAAS,SAAWL,KAAKf,MAAME,YAGnC,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,SAAWL,KAAKf,MAAME,YAGnC,GAAkB,MAAdM,EAAMW,IACXJ,KAAKK,SAAS,SAAWL,KAAKf,MAAME,YAGnC,GAAkB,MAAdM,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,SAAWC,QAGxB,GAAkB,MAAdb,EAAMW,IAAa,CACxB,IAAIE,EAAIN,KAAKf,MAAME,MAAQ,EAC3Ba,KAAKK,SAAS,SAAWC,M,mCAQpBC,EAAMC,GAAa,IAAD,OAC3BD,EAAKE,OAAO,GAAGC,MAAMC,SAAQ,SAAAC,GAIzBC,YAAW,WACP,EAAKC,WAAW,EAAK,KAAON,EAAaI,EAAQf,MAAQ,YAAae,EAAQG,UAAUC,SAC1E,IAAfJ,EAAQK,W,iCAIR9B,EAAO+B,EAAMH,GACpB,IAAII,EAAU,IAAIC,aAAgBC,EAAU,IAAIC,eAOhD,SAASC,EAAUC,GAEf,IAAIC,EAAeN,EAAQO,qBACrBC,EAAWR,EAAQS,aACzBH,EAAaD,OAASA,EAEtB,IAAIK,EAAU,IAAIC,IAAaX,EAASK,EAAQ,MAEhDK,EAAQE,GAAG,QAAQ,SAACC,GAChB/B,QAAQC,IAAIsB,GACZvB,QAAQC,IAAIuB,GACRO,EAAOC,kBAAoB,KAC3BJ,EAAQK,WAAWP,MAK3BE,EAAQ1C,MAAQA,EAEhB0C,EAAQM,QAAQR,GAChBA,EAASQ,QAAQhB,EAAQiB,aACzBX,EAAaU,QAAQhB,EAAQiB,aAIjC,OA/BAf,EAAQgB,KAAK,MAAOnB,GAAM,GAC1BG,EAAQiB,aAAe,cACvBjB,EAAQkB,OAAS,WACbpB,EAAQqB,gBAAgBnB,EAAQoB,SAAUlB,IA4BvCF,I,0CAIPqB,SAASC,iBAAiB,UAAW3C,KAAKR,SAAS,GACnDkD,SAASC,iBAAiB,QAAS3C,KAAK4C,OAAO,K,6CAG/CF,SAASG,oBAAoB,UAAW7C,KAAKR,SAAS,GACtDkD,SAASG,oBAAoB,QAAS7C,KAAK4C,OAAO,K,oCAOlD,IAAIrC,EAAOuC,EAAQ,IACnB9C,KAAK+C,aAAaxC,EAAM,M,iCAIhB,IAAD,OACHA,EAAOuC,EAAQ,IACnB9C,KAAKgD,SAAS,CAAE9D,gBAAiBc,KAAKf,MAAMC,gBAAiBC,MAAOa,KAAKf,MAAME,MAAOC,MAAOY,KAAKf,MAAMG,QAkBxG,IAAI6D,EAAW,GACf1C,EAAKE,OAAOE,SAAQ,SAAAuC,GAEhBA,EAAMxC,MAAMC,SAAQ,SAAAC,GACXqC,EAASE,SAASvC,EAAQwC,OAC3BH,EAASI,KAAKzC,EAAQwC,MAE1BvC,YAAW,WACP,EAAKR,SAASO,EAAQwC,QACR,IAAfxC,EAAQK,YAInBhB,QAAQC,IAAI+C,K,+BAGPrD,GACLK,QAAQC,IAAI,eAAiBN,GAG7BA,EAAOA,EAAK0D,QAAQ,IAAK,SACzB,IAAIC,EAAc,IAAIC,MACtBD,EAAYE,IAAM,KAAOzD,KAAKf,MAAMC,gBAAgBc,KAAKf,MAAMG,OAAS,IAAMQ,EAAO,OACrFK,QAAQC,IAAIqD,EAAYE,KACxBF,EAAYG,mBAAoB,EAChCH,EAAYI,aAAe,EAC3BJ,EAAYK,OACZ5D,KAAKG,e,mCAML,IAAIf,EAAQY,KAAKf,MAAMG,OAASY,KAAKf,MAAMC,gBAAgB2E,OAAS,EAAI,EAAI7D,KAAKf,MAAMG,MAAQ,EAC/FY,KAAKgD,SAAS,CAAE9D,gBAAiBc,KAAKf,MAAMC,gBAAiBC,MAAOa,KAAKf,MAAME,MAAOC,MAAOA,M,kCAI7F,IAAImE,EAAc,IAAIC,MACtBD,EAAYE,IAAM,gBAClBF,EAAYG,mBAAoB,EAChCH,EAAYI,aAAe,EAC3B1D,QAAQC,IAAIqD,EAAYM,QACxBN,EAAYK,S,+BAKZ,OACI,6BACI,4BAAQE,QAAS9D,KAAKX,aAAtB,MACA,4BAAQyE,QAAS9D,KAAKT,UAAtB,mB,GAxPGwE,aCiBJC,E,uKAfP,IAAMA,EAAM,kBACR,6BACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWpF,OAI7C,OACI,kBAAC,IAAD,KACI,kBAACiF,EAAD,W,GAXED,a,QCFHK,cAAgB,ICO/BC,IAASC,OACL,kBAAC,IAAD,CAAUC,MAAOC,YAAYC,IACzB,kBAAC,IAAD,KACI,kBAAC,EAAD,QAGR/B,SAASgC,cAAc,Y","file":"static/js/main.82ac9d8a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { PitchShifter } from 'soundtouchjs';\r\n\r\n\r\nclass Home extends Component {\r\n    state = { cyclePickleRick: [\"pickle\"], pitch: 4, cycle: 0 };\r\n\r\n    \r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.playMidi = this.playMidi.bind(this);\r\n        this.keyDown = this.keyDown.bind(this);\r\n    }\r\n\r\n\r\n\r\n\r\n    keyDown(event) {\r\n        let defaultKeys = {rick: {note: \"E4\", midi: 64 }, pickle: {note: \"Dsharp4\", midi: 63 }}\r\n\r\n        let sound = this.state.cyclePickleRick[this.state.cycle] + \"_\" + defaultKeys[this.state.cyclePickleRick[this.state.cycle]].note + \".mp3\"\r\n\r\n        console.log(sound)\r\n\r\n        let midi = defaultKeys[this.state.cyclePickleRick[this.state.cycle]].midi;\r\n\r\n        this.cycleSound();\r\n        let pitch = (this.state.pitch - 1) * 12;\r\n\r\n        if (event.key === \"a\") {\r\n            this.playNote(\"C\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 60)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"s\") {\r\n            this.playNote(\"D\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 62)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"d\") {\r\n            // this.shiftPitch(1 - (.05 * (midi - 64)), \"/\"+sound).send();\r\n            this.playNote(\"E\" + this.state.pitch);\r\n        }\r\n        else if (event.key === \"w\") {\r\n            this.playNote(\"Csharp\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 61)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"e\") {\r\n            this.playNote(\"Dsharp\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 63)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"f\") {\r\n            this.playNote(\"F\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 65)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"g\") {\r\n            this.playNote(\"G\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 67)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"h\") {\r\n            this.playNote(\"A\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 69)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"j\") {\r\n            this.playNote(\"B\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * (midi - 71)), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"k\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"C\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 60-12))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"l\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"D\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 62 - 12))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \";\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"E\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 64 - 12))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"'\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"F\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 65 - 12))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"t\") {\r\n            this.playNote(\"Fsharp\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 66))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"y\") {\r\n            this.playNote(\"Gsharp\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 68))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"u\") {\r\n            this.playNote(\"Asharp\" + this.state.pitch);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 70))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"o\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"Csharp\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 61 - 12))), \"/\"+sound).send();\r\n        }\r\n        else if (event.key === \"p\") {\r\n            let x = this.state.pitch + 1\r\n            this.playNote(\"Dsharp\" + x);\r\n            // this.shiftPitch(1 - (.05 * ((midi - 63 - 12))), \"/\"+sound).send();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    experimental(json, midiNumber) {\r\n        json.tracks[0].notes.forEach(element => {\r\n            // console.log(element);\r\n            // console.log(1 - (.05 * (midiNumber - element.midi)));\r\n            // console.log(element.time*1000)\r\n            setTimeout(() => {\r\n                this.shiftPitch(1 - (.05 * (midiNumber - element.midi)), \"/rick.wav\", element.duration).send();\r\n            }, element.time * 1000);\r\n        });\r\n    }\r\n\r\n    shiftPitch(pitch, file, duration) {\r\n        var context = new AudioContext(), request = new XMLHttpRequest();\r\n        request.open(\"GET\", file, true);\r\n        request.responseType = \"arraybuffer\";\r\n        request.onload = function () {\r\n            context.decodeAudioData(request.response, onDecoded);\r\n\r\n        };\r\n        function onDecoded(buffer) {\r\n\r\n            var bufferSource = context.createBufferSource();\r\n            const gainNode = context.createGain();\r\n            bufferSource.buffer = buffer;\r\n\r\n            let shifter = new PitchShifter(context, buffer, 4096);\r\n\r\n            shifter.on('play', (detail) => {\r\n                console.log(buffer)\r\n                console.log(bufferSource)\r\n                if (detail.percentagePlayed >= 100) {\r\n                    shifter.disconnect(gainNode);\r\n                }\r\n            });\r\n\r\n            // shifter.tempo = 1;\r\n            shifter.pitch = pitch;\r\n\r\n            shifter.connect(gainNode);\r\n            gainNode.connect(context.destination);\r\n            bufferSource.connect(context.destination);\r\n        }\r\n\r\n\r\n        return request;\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"keydown\", this.keyDown, false);\r\n        document.addEventListener(\"keyup\", this.keyUp, false);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"keydown\", this.keyDown, false);\r\n        document.removeEventListener(\"keyup\", this.keyUp, false);\r\n    }\r\n\r\n\r\n\r\n    handleClick() {\r\n        // this.playAudio();\r\n        let json = require('./mario.json')\r\n        this.experimental(json, 64)\r\n        // this.toneShift();\r\n    }\r\n\r\n    playMidi() {\r\n        let json = require('./dmc.json')\r\n        this.setState({ cyclePickleRick: this.state.cyclePickleRick, pitch: this.state.pitch, cycle: this.state.cycle })\r\n\r\n        // json.tracks[0].notes.forEach(element => {\r\n        //     if (!allNotes.includes(element.name)) {\r\n        //         allNotes.push(element.name);\r\n        //     }\r\n        //     setTimeout(() => {\r\n        //         this.playNote(element.name);\r\n        //     }, element.time * 1000);\r\n        // });\r\n        // json.tracks[1].notes.forEach(element => {\r\n        //     if (!allNotes.includes(element.name)) {\r\n        //         allNotes.push(element.name);\r\n        //     }\r\n        //     setTimeout(() => {\r\n        //         this.playNote(element.name);\r\n        //     }, element.time * 1000);\r\n        // });\r\n        let allNotes = []\r\n        json.tracks.forEach(track => {\r\n            // console.log(track)\r\n            track.notes.forEach(element => {\r\n                if (!allNotes.includes(element.name)) {\r\n                    allNotes.push(element.name);\r\n                }\r\n                setTimeout(() => {\r\n                    this.playNote(element.name);\r\n                }, element.time * 1000);\r\n            });\r\n        })\r\n\r\n        console.log(allNotes)\r\n    }\r\n\r\n    playNote(note) {\r\n        console.log(\"playing note\" + note)\r\n\r\n\r\n        note = note.replace(\"#\", \"sharp\")\r\n        var soundPlayer = new Audio();\r\n        soundPlayer.src = \"./\" + this.state.cyclePickleRick[this.state.cycle] + \"_\" + note + \".mp3\";\r\n        console.log(soundPlayer.src);\r\n        soundPlayer.mozPreservesPitch = true;\r\n        soundPlayer.playbackRate = 1;\r\n        soundPlayer.play();\r\n        this.cycleSound();\r\n\r\n    }\r\n\r\n\r\n    cycleSound() {\r\n        let cycle = this.state.cycle >= this.state.cyclePickleRick.length - 1 ? 0 : this.state.cycle + 1;\r\n        this.setState({ cyclePickleRick: this.state.cyclePickleRick, pitch: this.state.pitch, cycle: cycle });\r\n    }\r\n\r\n    playAudio() {\r\n        var soundPlayer = new Audio();\r\n        soundPlayer.src = \"./rick_E4.mp3\";\r\n        soundPlayer.mozPreservesPitch = true;\r\n        soundPlayer.playbackRate = 1;\r\n        console.log(soundPlayer.length);\r\n        soundPlayer.play();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <button onClick={this.handleClick}>HI</button>\r\n                <button onClick={this.playMidi}>mario song</button>\r\n            </div>\r\n        )\r\n    };\r\n};\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\n\r\nclass App extends Component {\r\n    render() {\r\n        const App = () => (\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path='/' component={Home} />\r\n                </Switch>\r\n            </div>\r\n        )\r\n        return (\r\n            <Switch>\r\n                <App />\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import { combineReducers } from 'redux';\r\n\r\nexport default combineReducers({});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport reducers from './redux/reducers';\r\n\r\nReactDOM.render(\r\n    <Provider store={createStore(reducers)}>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}